% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/process_prepoll.R
\name{process_prepoll}
\alias{process_prepoll}
\title{Process Pre-Poll Voting Data}
\usage{
process_prepoll(data, event)
}
\arguments{
\item{data}{A data frame containing pre-poll voting data for a single election event. Must include
an \code{event} column with a single unique value (e.g., "2004", "2007", "2010", "2013"). For processing
years (2004, 2007, 2010, 2013), must include \code{PrePollVotes} and \code{PrePollPercentage} columns. A
\code{date} column is typically present as mandatory metadata.}

\item{event}{A character string specifying the election year to process. Recognised values are
"2004", "2007", "2010", or "2013". Other values result in the data being returned unprocessed.}
}
\value{
A data frame. For recognised election years (2004, 2007, 2010, 2013), it contains the
standardised columns:
\itemize{
\item \code{DeclarationPrePollVotes} (number of pre-poll votes, renamed from \code{PrePollVotes})
\item \code{DeclarationPrePollPercentage} (percentage of pre-poll votes, renamed from \code{PrePollPercentage})
}
along with all other input columns (e.g., \code{date}, \code{event}). For unrecognised years, the original
data frame is returned unchanged.
}
\description{
Standardises pre-poll voting data for Australian federal elections in 2004, 2007, 2010, and 2013
from specific AEC datasets: "First preferences by state by party" (House), "First preferences by
group by vote type" (Senate), and "First preferences by state by group by vote type" (Senate).
This helper function aligns column names by renaming \code{PrePollVotes} to \code{DeclarationPrePollVotes}
and \code{PrePollPercentage} to \code{DeclarationPrePollPercentage} for consistency across these years. For
other election years, the data is returned unprocessed with a message.
}
\details{
This function processes pre-poll voting data by:
\enumerate{
\item \strong{Standardising column names}: For 2004, 2007, 2010, and 2013, renames \code{PrePollVotes} to
\code{DeclarationPrePollVotes} and \code{PrePollPercentage} to \code{DeclarationPrePollPercentage} using
\code{rename_cols()}.
\item \strong{Unrecognised years}: Returns the data unprocessed with an informative message for years
other than 2004, 2007, 2010, or 2013.
}
The function assumes the input data frame contains the required columns (\code{event}, \code{PrePollVotes},
and \code{PrePollPercentage}) for the specified processing years, as sourced from the AEC datasets listed.
}
\examples{
# Sample 2004 data
data_2004 <- data.frame(
  date = "2004-10-09",
  event = "2004",
  State = "VIC",
  Party = "ALP",
  PrePollVotes = 500,
  PrePollPercentage = 25.0
)
process_prepoll(data_2004, "2004")

# Sample unprocessed year (e.g., 2016)
data_2016 <- data.frame(
  date = "2016-07-02",
  event = "2016",
  State = "NSW",
  Party = "LIB",
  DeclarationPrePollVotes = 600,
  DeclarationPrePollPercentage = 30.0
)
process_prepoll(data_2016, "2016")

}
