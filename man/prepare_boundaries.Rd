% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prepare_boundaries.R
\name{prepare_boundaries}
\alias{prepare_boundaries}
\title{Prepare Boundary Correspondence for Cross-Election Comparison}
\usage{
prepare_boundaries(
  event = c("2025 Federal Election", "2023 Referendum", "2022 Federal Election",
    "2019 Federal Election", "2016 Federal Election", "2013 Federal Election"),
  compare_to = c("2025 Federal Election", "2023 Referendum", "2022 Federal Election",
    "2021 Postcodes", "2021 Census", "2019 Federal Election", "2016 Federal Election",
    "2016 Postcodes", "2016 Census", "2013 Federal Election", "2011 Postcodes",
    "2011 Census"),
  process = TRUE
)
}
\arguments{
\item{event}{Character string specifying the source election event whose results
you want to re-map. The geographic base varies by event:
\describe{
\item{"2025 Federal Election"}{Uses 2021 ASGS SA1 boundaries}
\item{"2023 Referendum", "2022 Federal Election", "2019 Federal Election"}{Use 2016 ASGS SA1 boundaries}
\item{"2016 Federal Election"}{Uses 2011 ASGS SA1 boundaries}
\item{"2013 Federal Election"}{Uses 2006 Census Collector Districts}
}}

\item{compare_to}{Character string specifying the target boundaries to map to.
Options include federal elections, referendums, Census SA1s, and postcodes:
\describe{
\item{Elections/Referendum}{Map to CED boundaries for that event (e.g., "2025 Federal Election")}
\item{Census}{Map to SA1 boundaries for that Census year (e.g., "2021 Census")}
\item{Postcodes}{Map to Postal Areas for that year (e.g., "2021 Postcodes")}
}}

\item{process}{Logical. If \code{TRUE} (default), removes geographic units with
correspondence ratios that don't sum to 1 (indicating data quality issues).
If \code{FALSE}, retains all data but issues warnings for problematic units.}
}
\value{
A data frame containing the boundary correspondence with columns for:
\itemize{
\item Source geographic unit identifiers (CD or SA1 codes)
\item Target geographic unit identifiers (SA1, POA, or CED)
\item Ratio column(s) indicating proportion of source mapping to target
}
The exact columns depend on the \code{event} and \code{compare_to} combination.
}
\description{
Creates a correspondence table that maps geographic units from one election event to
the boundaries of another event or geographic standard. This enables comparison of
election results across different boundary configurations by providing ratios that
indicate how source areas map to target areas.
}
\details{
This function is central to comparing election results across different boundary
configurations. Australian electoral boundaries change due to redistributions, and
the ABS updates SA1 boundaries with each Census. This function builds correspondence
tables that account for these changes.

The function works by:
\enumerate{
\item Determining the base geography for the source \code{event}
\item Building a correspondence chain to the target SA1 year via \code{\link{get_correspondence}}
\item If target is POA or CED, merging with allocation tables via \code{\link{get_allocation_table}}
\item For recent elections (2022, 2023, 2025), applying redistribution adjustments
via \code{\link{apply_redistribution_adjustments}} to correct for boundary
changes that occurred after ABS allocation files were published
}
}
\section{Valid Combinations}{

Not all event/compare_to combinations are valid. Generally:
\itemize{
\item You can map forward in time (older events to newer boundaries)
\item You cannot map to boundaries from an earlier ASGS edition than the event uses
}
}

\examples{
\dontrun{
  # Map 2019 election results to 2025 electoral boundaries
  corresp <- prepare_boundaries(
    event = "2019 Federal Election",
    compare_to = "2025 Federal Election"
  )

  # Map 2022 election results to 2021 postcodes
  corresp <- prepare_boundaries(
    event = "2022 Federal Election",
    compare_to = "2021 Postcodes"
  )

  # Map 2013 election results (CD-based) to 2021 SA1 boundaries
  corresp <- prepare_boundaries(
    event = "2013 Federal Election",
    compare_to = "2021 Census"
  )
}

}
\seealso{
\code{\link{prepare_results}} for applying boundary transformations to election data
}
\keyword{internal}
