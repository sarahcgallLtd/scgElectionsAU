% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/process_overseas.R
\name{process_overseas}
\alias{process_overseas}
\title{Process Overseas Voting Data}
\usage{
process_overseas(data, event)
}
\arguments{
\item{data}{A data frame containing overseas voting data. Must include an \code{event} column indicating
the election event (e.g., "2013 Federal Election", "2019 Federal Election", "2022 Federal Election",
"2023 Referendum", "2024 Federal Election") and, for recognised years, year-specific columns
for state, division, overseas post, and vote counts.}

\item{event}{A character string specifying the election event to process. Recognised values are
"2013 Federal Election", "2019 Federal Election", "2022 Federal Election", "2023 Referendum", or
"2025 Federal Election". Other values will result in the data being returned unprocessed.}
}
\value{
A data frame. For recognised election years ("2013", "2019", "2022", "2023", "2025"), it contains standardised
columns:
\itemize{
\item \code{date} (if present in input)
\item \code{event} (the election event)
\item \code{StateAb} (state abbreviation, standardised using \code{\link[=amend_names]{amend_names()}} for 2013 and 2019)
\item \code{DivisionNm} (division name)
\item \code{OverseasPost} (name of the overseas voting post)
\item \code{PrePollVotes} (pre-poll vote count)
\item \code{PostalVotes} (postal vote count)
\item \code{TotalVotes} (sum of \code{PrePollVotes} and \code{PostalVotes}, with NA handling)
}
Rows with missing \code{StateAb} values (e.g., totals) are removed for 2013 data. For unrecognised
election years, the original data frame is returned unchanged.
}
\description{
Standardises column names and calculates total votes for overseas voting data from the 2013, 2019,
and 2022 Australian federal elections. This function aligns disparate column names across election
years to a consistent format and computes the total votes as the sum of postal and pre-poll votes.
If an unrecognised election year is provided, the data is returned unprocessed with a message.
}
\details{
This function processes overseas voting data by:
\enumerate{
\item Standardising column names to a consistent set across recognised election years using \code{rename_cols()}.
\item For 2013 data: Removing unnecessary columns (\code{pp_sort_nm}, \code{Total}) and rows with NA in \code{StateAb}.
\item Converting full state names to abbreviations using \code{\link[=amend_names]{amend_names()}} for 2013 and 2019 data.
\item Calculating \code{TotalVotes} as the sum of \code{PostalVotes} and \code{PrePollVotes}, treating NA as 0.
\item For unrecognised years: Returning the data unprocessed with an informative message.
}
The function assumes the input data frame contains the required columns for the specified \code{event} year
when it is "2013", "2019", "2022", or "2025", though column names may vary as per the original datasets.
}
\examples{
# Sample 2013 data
data_2013 <- data.frame(
  event = "2013 Federal Election",
  StateAb = c("NSW", "VIC", NA),
  DivisionNm = c("Sydney", "Melbourne", "Total"),
  pp_nm = c("London", "Paris", "All"),
  `Pre-poll Votes` = c(100, 150, 250),
  `Postal Votes` = c(50, 75, 125),
  pp_sort_nm = c("LON", "PAR", "ALL"),
  Total = c(150, 225, 375),
  check.names = FALSE
)
process_overseas(data_2013, "2013 Federal Election")

# Sample invalid year
data_2026 <- data.frame(event = "2026 Federal Election", StateAb = "QLD", Votes = 100)
process_overseas(data_2026, "2026 Federal Election")

}
\seealso{
\code{\link{amend_names}}) for state name standardisation.
}
