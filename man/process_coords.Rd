% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/process_coords.R
\name{process_coords}
\alias{process_coords}
\title{Process Polling Place Coordinates}
\usage{
process_coords(data, event)
}
\arguments{
\item{data}{A data frame containing polling place data for a single election event. Must include:
\itemize{
\item \code{event} (the election year, e.g., "2004", "2010")
\item \code{PollingPlaceID} (unique identifier for polling places)
\item \code{Latitude} (latitude coordinate, potentially NA or 0)
\item \code{Longitude} (longitude coordinate, potentially NA or 0)
}
A \code{date} column is typically present as mandatory metadata.}

\item{event}{A character string specifying the election year (e.g., "2004", "2010"). Used for
logging purposes only; processing occurs for all years.}
}
\value{
A data frame identical to the input, with updated columns:
\itemize{
\item \code{Latitude} (updated with non-NA, non-zero values from the internal \code{coords} dataset where matches are found)
\item \code{Longitude} (updated with non-NA, non-zero values from the internal \code{coords} dataset where matches are found)
}
Unmatched or already valid coordinates remain unchanged.
}
\description{
Updates missing or invalid coordinate data for polling places in the "Polling place" dataset from
Australian federal elections. This helper function fills in missing (\code{NA}) or zero-valued latitude
and longitude coordinates by matching \code{PollingPlaceID} with an internal coordinate dataset
(\code{coords}) stored in the \code{scgElectionsAU} package namespace. The function processes data for any
specified election year, ensuring alignment with known polling place locations.
}
\details{
This function processes polling place coordinates by:
\enumerate{
\item \strong{Retrieving internal data}: Accesses the \code{coords} dataset from the \code{scgElectionsAU} package
namespace, which contains known \code{PollingPlaceID}, \code{Latitude}, and \code{Longitude} values.
\item \strong{Matching polling places}: Uses \code{PollingPlaceID} to match rows in the input data with the
internal \code{coords} dataset.
\item \strong{Updating coordinates}: Replaces \code{NA} or zero values in \code{Latitude} and \code{Longitude} with
corresponding values from \code{coords} where matches exist.
\item \strong{Logging}: Outputs a message indicating the election year being processed, though processing
applies universally regardless of year.
}
The function assumes the input data frame contains the required columns (\code{event}, \code{PollingPlaceID},
\code{Latitude}, and \code{Longitude}) as sourced from the AEC "Polling place" dataset, and that the internal
\code{coords} dataset is available and correctly formatted within the package namespace.
}
\examples{
# Sample data with missing coordinates
data_2010 <- data.frame(
  date = "2010-08-21",
  event = "2010",
  PollingPlaceID = c(93925.0, 11877.0),
  Latitude = c(NA, 0),
  Longitude = c(0, NA)
)
process_coords(data_2010, "2010")

# Sample data with some valid coordinates
data_2013 <- data.frame(
  date = "2013-09-07",
  event = "2013",
  PollingPlaceID = c(93925.0, 11877.0),
  Latitude = c(-37.81, -33.87),
  Longitude = c(144.96, 151.21)
)
process_coords(data_2013, "2013")

}
