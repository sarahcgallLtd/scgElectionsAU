<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Download and Process AEC Data — get_election_data • scgElectionsAU</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Download and Process AEC Data — get_election_data"><meta name="description" content="This function downloads and processes data from the Australian Electoral Commission (AEC) based
on user-specified criteria such as file name, date range, election type, and data category. It
retrieves raw data files from the AEC, optionally applies standardisation processes (e.g., column
name consistency), and returns a combined data frame for analysis. The function is designed to
handle various types of election-related datasets, including federal elections, referendums,
and by-elections."><meta property="og:description" content="This function downloads and processes data from the Australian Electoral Commission (AEC) based
on user-specified criteria such as file name, date range, election type, and data category. It
retrieves raw data files from the AEC, optionally applies standardisation processes (e.g., column
name consistency), and returns a combined data frame for analysis. The function is designed to
handle various types of election-related datasets, including federal elections, referendums,
and by-elections."><meta property="og:image" content="https://docs.sarahcgall.co.uk/scgElectionsAU/logo.png"></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">scgElectionsAU</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/aec-raw-data.html">A Guide to the AEC's Federal Election Raw Datasets</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sarahcgall/scgElectionsAU/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Download and Process AEC Data</h1>
      <small class="dont-index">Source: <a href="https://github.com/sarahcgall/scgElectionsAU/blob/main/R/get_election_data.R" class="external-link"><code>R/get_election_data.R</code></a></small>
      <div class="d-none name"><code>get_election_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function downloads and processes data from the Australian Electoral Commission (AEC) based
on user-specified criteria such as file name, date range, election type, and data category. It
retrieves raw data files from the AEC, optionally applies standardisation processes (e.g., column
name consistency), and returns a combined data frame for analysis. The function is designed to
handle various types of election-related datasets, including federal elections, referendums,
and by-elections.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_election_data</span><span class="op">(</span></span>
<span>  <span class="va">file_name</span>,</span>
<span>  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>from <span class="op">=</span> <span class="st">"2022-01-01"</span>, to <span class="op">=</span> <span class="st">"2025-01-01"</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  category <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"House"</span>, <span class="st">"Senate"</span>, <span class="st">"Referendum"</span>, <span class="st">"General"</span>, <span class="st">"Statistics"</span><span class="op">)</span>,</span>
<span>  process <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-file-name">file_name<a class="anchor" aria-label="anchor" href="#arg-file-name"></a></dt>
<dd><p>A character string specifying the name of the AEC dataset to retrieve (e.g.,
"National list of candidates"). This name must match entries in the internal index datasets.</p></dd>


<dt id="arg-date-range">date_range<a class="anchor" aria-label="anchor" href="#arg-date-range"></a></dt>
<dd><p>A list with two elements, <code>"from"</code> and <code>"to"</code>, specifying the start
and end dates (in "YYYY-MM-DD" format) for the election events to include. Defaults to
<code>list(from = "2022-01-01", to = "2025-01-01")</code>.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>A character string specifying the type of election or event. Must be one of:
"Federal Election", "Referendum", "By-Election", or "Disclosure". Defaults to the first option.</p></dd>


<dt id="arg-category">category<a class="anchor" aria-label="anchor" href="#arg-category"></a></dt>
<dd><p>A character string specifying the category of the data. Must be one of: "House",
"Senate", "Referendum", "General", or "Statistics". Defaults to the first option.</p></dd>


<dt id="arg-process">process<a class="anchor" aria-label="anchor" href="#arg-process"></a></dt>
<dd><p>A logical value indicating whether to apply additional processing to the downloaded
data, such as standardizing column names. Defaults to <code>TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame containing the combined AEC data for the specified criteria. The data frame
includes metadata columns (e.g., <code>date</code>, <code>event</code>) and is optionally processed
for consistency if <code>process = TRUE</code>. If no data is available for the given parameters,
the function stops with an informative error message.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>get_aec_data</code> function automates the retrieval and processing of AEC datasets by:</p><ol><li><p>Validating input parameters to ensure correctness.</p></li>
<li><p>Retrieving internal metadata about election events within the specified <code>date_range</code>
and matching the <code>type</code>.</p></li>
<li><p>Checking the availability of the requested <code>file_name</code> and <code>category</code> in the
internal index datasets.</p></li>
<li><p>Constructing download URLs and retrieving the raw data files from the AEC website.</p></li>
<li><p>Optionally preprocessing postal vote data and standardizing column names.</p></li>
<li><p>Combining data from multiple election events into a single data frame.</p></li>
</ol><p>The function relies on internal helper functions (e.g., <code>check_params</code>, <code>construct_url</code>,
<code>preprocess_pva</code>) and datasets (e.g., <code>info</code>, <code>aec_elections_index</code>) within the
<code>scgElectionsAU</code> package. It also uses <code><a href="https://rdrr.io/pkg/scgUtils/man/get_file.html" class="external-link">scgUtils::get_file</a></code> for downloading files.
The function is designed to be robust, providing clear messages and errors to guide users through
the data retrieval process.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span>  <span class="co"># Retrieve and process the national list of candidates for House elections in 2022</span></span></span>
<span class="r-in"><span>  <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">get_election_data</span><span class="op">(</span></span></span>
<span class="r-in"><span>    file_name <span class="op">=</span> <span class="st">"National list of candidates"</span>,</span></span>
<span class="r-in"><span>    date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>from <span class="op">=</span> <span class="st">"2022-01-01"</span>, to <span class="op">=</span> <span class="st">"2023-01-01"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    type <span class="op">=</span> <span class="st">"Federal Election"</span>,</span></span>
<span class="r-in"><span>    category <span class="op">=</span> <span class="st">"House"</span>,</span></span>
<span class="r-in"><span>    process <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.sarahcgall.co.uk/" class="external-link">Sarah Gall</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

  </div></footer></body></html>

