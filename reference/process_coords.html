<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Process Polling Place Coordinates — process_coords • scgElectionsAU</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Process Polling Place Coordinates — process_coords"><meta name="description" content='Updates missing or invalid coordinate data for polling places in the "Polling place" dataset from
Australian federal elections. This helper function fills in missing (NA) or zero-valued latitude
and longitude coordinates by matching PollingPlaceID with an internal coordinate dataset
(coords) stored in the scgElectionsAU package namespace. The function processes data for any
specified election year, ensuring alignment with known polling place locations.'><meta property="og:description" content='Updates missing or invalid coordinate data for polling places in the "Polling place" dataset from
Australian federal elections. This helper function fills in missing (NA) or zero-valued latitude
and longitude coordinates by matching PollingPlaceID with an internal coordinate dataset
(coords) stored in the scgElectionsAU package namespace. The function processes data for any
specified election year, ensuring alignment with known polling place locations.'><meta property="og:image" content="https://docs.sarahcgall.co.uk/scgElectionsAU/logo.png"></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">scgElectionsAU</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/aec-raw-data.html">A Guide to the AEC's Federal Election Raw Datasets</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sarahcgall/scgElectionsAU/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Process Polling Place Coordinates</h1>
      <small class="dont-index">Source: <a href="https://github.com/sarahcgall/scgElectionsAU/blob/main/R/process_coords.R" class="external-link"><code>R/process_coords.R</code></a></small>
      <div class="d-none name"><code>process_coords.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Updates missing or invalid coordinate data for polling places in the "Polling place" dataset from
Australian federal elections. This helper function fills in missing (<code>NA</code>) or zero-valued latitude
and longitude coordinates by matching <code>PollingPlaceID</code> with an internal coordinate dataset
(<code>coords</code>) stored in the <code>scgElectionsAU</code> package namespace. The function processes data for any
specified election year, ensuring alignment with known polling place locations.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">process_coords</span><span class="op">(</span><span class="va">data</span>, <span class="va">event</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame containing polling place data for a single election event. Must include:</p><ul><li><p><code>event</code> (the election event, e.g., "2004 Federal Election", "2010 Federal Election")</p></li>
<li><p><code>PollingPlaceID</code> (unique identifier for polling places)</p></li>
<li><p><code>Latitude</code> (latitude coordinate, potentially NA or 0)</p></li>
<li><p><code>Longitude</code> (longitude coordinate, potentially NA or 0)</p></li>
</ul><p>A <code>date</code> column is typically present as mandatory metadata.</p></dd>


<dt id="arg-event">event<a class="anchor" aria-label="anchor" href="#arg-event"></a></dt>
<dd><p>A character string specifying the election event (e.g., "2004 Federal Election",
"2010 Federal Election"). Used for
logging purposes only; processing occurs for all years.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame identical to the input, with updated columns:</p><ul><li><p><code>Latitude</code> (updated with non-NA, non-zero values from the internal <code>coords</code> dataset where matches are found)</p></li>
<li><p><code>Longitude</code> (updated with non-NA, non-zero values from the internal <code>coords</code> dataset where matches are found)</p></li>
</ul><p>Unmatched or already valid coordinates remain unchanged.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function processes polling place coordinates by:</p><ol><li><p><strong>Retrieving internal data</strong>: Accesses the <code>coords</code> dataset from the <code>scgElectionsAU</code> package
namespace, which contains known <code>PollingPlaceID</code>, <code>Latitude</code>, and <code>Longitude</code> values.</p></li>
<li><p><strong>Matching polling places</strong>: Uses <code>PollingPlaceID</code> to match rows in the input data with the
internal <code>coords</code> dataset.</p></li>
<li><p><strong>Updating coordinates</strong>: Replaces <code>NA</code> or zero values in <code>Latitude</code> and <code>Longitude</code> with
corresponding values from <code>coords</code> where matches exist.</p></li>
<li><p><strong>Logging</strong>: Outputs a message indicating the election year being processed, though processing
applies universally regardless of year.</p></li>
</ol><p>The function assumes the input data frame contains the required columns (<code>event</code>, <code>PollingPlaceID</code>,
<code>Latitude</code>, and <code>Longitude</code>) as sourced from the AEC "Polling place" dataset, and that the internal
<code>coords</code> dataset is available and correctly formatted within the package namespace.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Sample data with missing coordinates</span></span></span>
<span class="r-in"><span><span class="va">data_2010</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  date <span class="op">=</span> <span class="st">"2010-08-21"</span>,</span></span>
<span class="r-in"><span>  event <span class="op">=</span> <span class="st">"2010 Federal Election"</span>,</span></span>
<span class="r-in"><span>  PollingPlaceID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">93925.0</span>, <span class="fl">11877.0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  Latitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  Longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="cn">NA</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">process_coords</span><span class="op">(</span><span class="va">data_2010</span>, <span class="st">"2010 Federal Election"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Filling in missing coordinates for `2010 Federal Election` data, where possible.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         date                 event PollingPlaceID  Latitude Longitude</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 2010-08-21 2010 Federal Election          93925 -35.23895  149.0691</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 2010-08-21 2010 Federal Election          11877 -35.43146  149.0824</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Sample data with some valid coordinates</span></span></span>
<span class="r-in"><span><span class="va">data_2013</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  date <span class="op">=</span> <span class="st">"2013-09-07"</span>,</span></span>
<span class="r-in"><span>  event <span class="op">=</span> <span class="st">"2013 Federal Election"</span>,</span></span>
<span class="r-in"><span>  PollingPlaceID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">93925.0</span>, <span class="fl">11877.0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  Latitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">37.81</span>, <span class="op">-</span><span class="fl">33.87</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  Longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">144.96</span>, <span class="fl">151.21</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">process_coords</span><span class="op">(</span><span class="va">data_2013</span>, <span class="st">"2013 Federal Election"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Filling in missing coordinates for `2013 Federal Election` data, where possible.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         date                 event PollingPlaceID Latitude Longitude</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 2013-09-07 2013 Federal Election          93925   -37.81    144.96</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 2013-09-07 2013 Federal Election          11877   -33.87    151.21</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.sarahcgall.co.uk/" class="external-link">Sarah Gall</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

  </div></footer></body></html>

