<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Process Overseas Voting Data — process_overseas • scgElectionsAU</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Process Overseas Voting Data — process_overseas"><meta name="description" content="Standardises column names and calculates total votes for overseas voting data from the 2013, 2019,
and 2022 Australian federal elections. This function aligns disparate column names across election
years to a consistent format and computes the total votes as the sum of postal and pre-poll votes.
If an unrecognised election year is provided, the data is returned unprocessed with a message."><meta property="og:description" content="Standardises column names and calculates total votes for overseas voting data from the 2013, 2019,
and 2022 Australian federal elections. This function aligns disparate column names across election
years to a consistent format and computes the total votes as the sum of postal and pre-poll votes.
If an unrecognised election year is provided, the data is returned unprocessed with a message."><meta property="og:image" content="https://docs.sarahcgall.co.uk/scgElectionsAU/logo.png"></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">scgElectionsAU</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/preparing-aec-election-results.html">Preparing Election Results</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sarahcgallLtd/scgElectionsAU/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Process Overseas Voting Data</h1>
      <small class="dont-index">Source: <a href="https://github.com/sarahcgallLtd/scgElectionsAU/blob/main/R/process_overseas.R" class="external-link"><code>R/process_overseas.R</code></a></small>
      <div class="d-none name"><code>process_overseas.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Standardises column names and calculates total votes for overseas voting data from the 2013, 2019,
and 2022 Australian federal elections. This function aligns disparate column names across election
years to a consistent format and computes the total votes as the sum of postal and pre-poll votes.
If an unrecognised election year is provided, the data is returned unprocessed with a message.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">process_overseas</span><span class="op">(</span><span class="va">data</span>, <span class="va">event</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame containing overseas voting data. Must include an <code>event</code> column indicating
the election event (e.g., "2013 Federal Election", "2019 Federal Election", "2022 Federal Election",
"2023 Referendum", "2024 Federal Election") and, for recognised years, year-specific columns
for state, division, overseas post, and vote counts.</p></dd>


<dt id="arg-event">event<a class="anchor" aria-label="anchor" href="#arg-event"></a></dt>
<dd><p>A character string specifying the election event to process. Recognised values are
"2013 Federal Election", "2019 Federal Election", "2022 Federal Election", "2023 Referendum", or
"2025 Federal Election". Other values will result in the data being returned unprocessed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame. For recognised election years ("2013", "2019", "2022", "2023", "2025"), it contains standardised
columns:</p><ul><li><p><code>date</code> (if present in input)</p></li>
<li><p><code>event</code> (the election event)</p></li>
<li><p><code>StateAb</code> (state abbreviation, standardised using <code><a href="amend_names.html">amend_names()</a></code> for 2013 and 2019)</p></li>
<li><p><code>DivisionNm</code> (division name)</p></li>
<li><p><code>OverseasPost</code> (name of the overseas voting post)</p></li>
<li><p><code>PrePollVotes</code> (pre-poll vote count)</p></li>
<li><p><code>PostalVotes</code> (postal vote count)</p></li>
<li><p><code>TotalVotes</code> (sum of <code>PrePollVotes</code> and <code>PostalVotes</code>, with NA handling)</p></li>
</ul><p>Rows with missing <code>StateAb</code> values (e.g., totals) are removed for 2013 data. For unrecognised
election years, the original data frame is returned unchanged.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function processes overseas voting data by:</p><ol><li><p>Standardising column names to a consistent set across recognised election years using <code>rename_cols()</code>.</p></li>
<li><p>For 2013 data: Removing unnecessary columns (<code>pp_sort_nm</code>, <code>Total</code>) and rows with NA in <code>StateAb</code>.</p></li>
<li><p>Converting full state names to abbreviations using <code><a href="amend_names.html">amend_names()</a></code> for 2013 and 2019 data.</p></li>
<li><p>Calculating <code>TotalVotes</code> as the sum of <code>PostalVotes</code> and <code>PrePollVotes</code>, treating NA as 0.</p></li>
<li><p>For unrecognised years: Returning the data unprocessed with an informative message.</p></li>
</ol><p>The function assumes the input data frame contains the required columns for the specified <code>event</code> year
when it is "2013", "2019", "2022", or "2025", though column names may vary as per the original datasets.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="amend_names.html">amend_names</a></code>) for state name standardisation.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Sample 2013 data</span></span></span>
<span class="r-in"><span><span class="va">data_2013</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  event <span class="op">=</span> <span class="st">"2013 Federal Election"</span>,</span></span>
<span class="r-in"><span>  StateAb <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NSW"</span>, <span class="st">"VIC"</span>, <span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  DivisionNm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sydney"</span>, <span class="st">"Melbourne"</span>, <span class="st">"Total"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  pp_nm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"London"</span>, <span class="st">"Paris"</span>, <span class="st">"All"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  `Pre-poll Votes` <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">150</span>, <span class="fl">250</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  `Postal Votes` <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">75</span>, <span class="fl">125</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  pp_sort_nm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"LON"</span>, <span class="st">"PAR"</span>, <span class="st">"ALL"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  Total <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">150</span>, <span class="fl">225</span>, <span class="fl">375</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  check.names <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">process_overseas</span><span class="op">(</span><span class="va">data_2013</span>, <span class="st">"2013 Federal Election"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing `2013 Federal Election` data to ensure all columns align across all elections.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   event StateAb DivisionNm OverseasPost PrePollVotes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 2013 Federal Election     NSW     Sydney       London          100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 2013 Federal Election     VIC  Melbourne        Paris          150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   PostalVotes TotalVotes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1          50        150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2          75        225</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Sample invalid year</span></span></span>
<span class="r-in"><span><span class="va">data_2026</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>event <span class="op">=</span> <span class="st">"2026 Federal Election"</span>, StateAb <span class="op">=</span> <span class="st">"QLD"</span>, Votes <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">process_overseas</span><span class="op">(</span><span class="va">data_2026</span>, <span class="st">"2026 Federal Election"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> No processing required for `2026 Federal Election`. Data returned unprocessed.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   event StateAb Votes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 2026 Federal Election     QLD   100</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.sarahcgall.co.uk/" class="external-link">Sarah Gall</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

  </div></footer></body></html>

